{% extends 'employee/employee_base.html' %}

{% block content %}
{% load static %}

<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.formset/1.2.2/jquery.formset.min.js" integrity="sha512-ltwjKsDTo3hW/wV66ZaEkf2wOAFxmg7rWM76J8kOcYKLSKy44WBYO/BFaNNH3NGDS8BSz3meB9wtSnm41oL+pA==" crossorigin="anonymous"></script>



<script type="text/javascript" src="/jsi18n"></script>
<script type="text/javascript" src="/static/admin/js/core.js"></script>
<script type="text/javascript" src="/static/admin/js/calendar.js"></script>
<script type="text/javascript" src="/static/admin/js/admin/DateTimeShortcuts.js"></script>
<script type="text/javascript" src="/static/admin/js/core.js"></script>
<script type="text/javascript" src="/static/admin/js/admin/RelatedObjectLookups.js"></script>


<div class="main-content" id="panel">
  <!-- Topnav -->
  <nav class="navbar navbar-top navbar-expand navbar-dark bg-primary border-bottom">
    <div class="container-fluid">
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <!-- Search form -->

        <!-- Navbar links -->
        <ul class="navbar-nav align-items-center  ml-md-auto ">
          <li class="nav-item d-xl-none">
            <!-- Sidenav toggler -->
            <div class="pr-3 sidenav-toggler sidenav-toggler-dark" data-action="sidenav-pin" data-target="#sidenav-main">
              <div class="sidenav-toggler-inner">
                <i class="sidenav-toggler-line"></i>
                <i class="sidenav-toggler-line"></i>vew
                <i class="sidenav-toggler-line"></i>
              </div>
            </div>
          </li>
          <li class="nav-item d-sm-none">
            <a class="nav-link" href="#" data-action="search-show" data-target="#navbar-search-main">
              <i class="ni ni-zoom-split-in"></i>
            </a>
          </li>
        </ul>
        <ul class="navbar-nav align-items-center  ml-auto ml-md-0 ">
          <li class="nav-item dropdown">
            <a class="nav-link pr-0" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <div class="media align-items-center">
                <span class="avatar avatar-sm rounded-circle">
                  <img alt="Image placeholder" src="{% static 'assets/img/theme/team-5.jpg' %}">
                </span>
                <div class="media-body  ml-2  d-none d-lg-block">
                  <span class="mb-0 text-sm  font-weight-bold">{{request.user.name}}</span>
                </div>
              </div>
            </a>
            <div class="dropdown-menu  dropdown-menu-right ">
              <div class="dropdown-header noti-title">
                <h6 class="text-overflow m-0">Welcome!</h6>
              </div>
              <a href="Employee_Profile.html" class="dropdown-item">
                <i class="ni ni-single-02"></i>
                <span>My profile</span>
              </a>
              <a href="#!" class="dropdown-item">
                <i class="ni ni-settings-gear-65"></i>
                <span>Settings</span>
              </a>
              <a href="#!" class="dropdown-item">
                <i class="ni ni-calendar-grid-58"></i>
                <span>Activity</span>
              </a>
              <a href="#!" class="dropdown-item">
                <i class="ni ni-support-16"></i>
                <span>Support</span>
              </a>
              <div class="dropdown-divider"></div>
              <a href="#!" class="dropdown-item">
                <i class="ni ni-user-run"></i>
                <span>Logout</span>
              </a>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <br>
  <div class="container">
    <div class="row mt-5">
      <div class="col-md-10 m-auto">
        <div class="container m-auto">
          <form class="" method="post" enctype="multipart/form-data">
            <div class="row" id="skill">
              {{ skill_form.management_form }}
              {% for skill in skill_form %}
                {% csrf_token  %}
                 <div class="col-sm-12 p-2 link-formset m-auto">
                   <div class="card p-2">
                     <div class="inner">
                       <table class="table">
                         {{ skill.as_table }}
                       </table>
                     </div>
                   </div>
                </div>
              {% endfor %}
            </div>
            <div class="row" id="certificate">
              {{ certificate_form.management_form }}
              {% for certificate in certificate_form %}
                {% csrf_token  %}
                 <div class="col-sm-12 p-2 link-formset m-auto">
                   <div class="card p-2">
                     <div class="inner">
                       <table class="table">
                         {{ certificate.as_table }}
                       </table>
                     </div>
                   </div>
                </div>
              {% endfor %}
            </div>
            <div class="row" id="future">
              {{ future_form.management_form }}
              {% for future in future_form %}
                {% csrf_token  %}
                 <div class="col-sm-12 p-2 link-formset m-auto">
                   <div class="card p-2">
                     <div class="inner">
                       <table class="table">
                         {{ future.as_table }}
                       </table>
                     </div>
                   </div>
                </div>
              {% endfor %}
            </div>
            <!-- <div class="row" id="responce">
              <div class="col-md-12">
                <div class="card m-auto p-3">
                  <div class="inner">
                    <table class="table">
                      <tr>
                        <th>Skill Development</th>
                        <td>{{responce_form.skill_development}}</td>
                      </tr>
                      <tr>
                        <th>Suggession</th>
                        <td>{{responce_form.suggession}}</td>
                      </tr>
                    </table>
                  </div>
                </div>
              </div>
            </div> -->
            <div class="row" id="interaction">
              {{ interaction_form.management_form }}
              {% for interaction in interaction_form %}
                {% csrf_token  %}
                 <div class="col-sm-12 p-2 link-formset m-auto">
                   <div class="card p-2">

                     <div class="inner">
                       <table class="table">
                         {{ interaction.as_table }}
                       </table>
                     </div>
                   </div>
                </div>
              {% endfor %}
            </div>
            <br><br>

            <script>

              $(`#skill .inner`).formset({
                addText: `<div class="btn mb-2 btn-primary"><i class="fa fa-plus"></i> Add More</div>`,
                prefix: '{{ skill_form.prefix }}',
                deleteText: `<div class="btn mt-2 btn-warning"><i class="fa fa-times"></i> Remove</div>`
              });

              $(`#certificate .inner`).formset({
                addText: `<div class="btn mb-2 btn-primary"><i class="fa fa-plus"></i> Add More</div>`,
                prefix: '{{ certificate_form.prefix }}',
                deleteText: `<div class="btn mt-2 btn-warning"><i class="fa fa-times"></i> Remove</div>`
              });

              $(`#future .inner`).formset({
                addText: `<div class="btn mb-2 btn-primary"><i class="fa fa-plus"></i> Add More</div>`,
                prefix: '{{ future_form.prefix }}',
                deleteText: `<div class="btn mt-2 btn-warning"><i class="fa fa-times"></i> Remove</div>`
              });

              $(`#interaction .inner`).formset({
                addText: `<div class="btn mb-2 btn-primary"><i class="fa fa-plus"></i> Add More</div>`,
                prefix: '{{ interaction_form.prefix }}',
                deleteText: `<div class="btn mt-2 btn-warning"><i class="fa fa-times"></i> Remove</div>`
              });

              $('.time').get(1).type = "time";

              console.log('{{certificate_form.prefix}}');
              console.log('{{interaction_form.prefix}}');
              console.log('{{future_form.prefix}}');
              console.log('{{skill_form.prefix}}');

            </script>
            <div class="form-group row">
              <button type="submit" class="btn text-center m-auto btn-primary">Submit</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock %}
